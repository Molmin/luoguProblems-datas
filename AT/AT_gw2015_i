===== Sample #1 Input =====
int N, Q, X, A, B, C;
int H[500][500];
int Rand() {
  return X = (A * X + B) % C;
}
void Shuffle() {
  for (int i = 0; i 




5 3
0 7 3 101
1 1 1 1 1
1 2 2 2 1
1 2 3 2 1
1 2 2 2 1
1 1 1 1 1
===== Sample #1 Output =====
35
27
30
